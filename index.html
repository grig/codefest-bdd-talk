<!DOCTYPE html>
<!--
  Original Project, HTML5 Rocks 'Slides Template' Copyright 2010 Google Inc.
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
 
  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)
                 Brad Neuberg

  Keydown generates an HTML5 Rocks-style presentation from a Markdown file, adding
  the ability to full screen backgrounds, CSS overrides, and additional JavaScript.

  Keydown (http://infews.github.com/keydown), Copyright 2010 Infews LLC
-->
<html manifest="cache.manifest">
<head>
  <!--[if gte IE 9]>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <![endif]-->

  <!--[if lt IE 9]>
  <meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1"/>
  <![endif]-->

  <meta charset="utf-8"/>
  <title>Behavior-driven development</title>
  <link href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono" rel="stylesheet" type="text/css"/>

  <!--
    Original HTML5 Rocks CSS extracted for readability
  -->
  <link href="css/rocks.css" rel="stylesheet" type="text/css"/>

  <!--
    Keydown provided CSS & your custom CSS
  -->
  
    <link href="css/bdd-talk.css" rel="stylesheet" type="text/css"/>
  
    <link href="css/keydown.css" rel="stylesheet" type="text/css"/>
  

</head>
<body>
<div class="presentation">
  <div id="presentation-counter"></div>
  <div class="slides">
    <!--
      First slide has Title, Instructions & options. Remove (or display:none) this slide if you like
    -->
    <div class="slide">
      <section class="middle">
        <h1>Behavior-driven development</h1>
        <p>
          Press <span class="key"><b>&rarr;</b></span>, scroll, or swipe to advance
        </p>
        <h3>
          Options
        </h3>
        <ul>
          <li>
            <input type="checkbox" id="toggle-size" />
            <label for="toggle-size">
              <span>Grow</span>
            </label>
          </li>
          <li>
            <input type="checkbox" id="toggle-transitions" checked/>
            <label for="toggle-transitions">
              <span>Transitions</span>
            </label>
          </li>
          <li>
            <input type="checkbox" id="toggle-gradients" checked/>
            <label for="toggle-gradients">
              <span>Gradients</span>
            </label>
          </li>
          <li>
            <input type="checkbox" id="toggle-counter" checked/>
            <label for="toggle-counter">
              <span>Slide numbers</span>
            </label>
          </li>
        </ul>
        <p>
          Made with <a href="http://infews.github.com/keydown"><b>Keydown</b></a>
        </p>
      </section>
    </div>
    
      <div class="slide">
  <section class="bulleted">
    <h1>Behavior-driven development и огурцы</h1>

<h2>План</h2>

<ul>
<li>Что такое behavior driven development</li>
<li>Причем здесь огурцы</li>
<li>Пример</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Ваш докладчик</h1>

<h2>Алексей Григорович</h2>

<ul>
<li>экс-архитектор в Shamrock Mobile</li>
<li>Java, Ruby, JS</li>
<li>TDD-маньяк с 2008г</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Behavior Driven Development</h1>

<h2>План</h2>

<ul>
<li><strong>Что это</strong></li>
<li><span class="deemph">Причем здесь огурцы</span></li>
<li><span class="deemph">Пример</span></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Behavior Driven Development</h1>

<h2>Что это</h2>

  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Проблемы наивного TDD</h1>

<ul>
<li><strong>модульные тесты не гарантируют работоспособность системы</strong></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Проблемы наивного TDD</h1>

<ul>
<li><strong>модульные тесты не гарантируют работоспособность системы</strong>

<ul>
<li>Решение: интеграционные/функциональные тесты</li>
</ul>
</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Проблемы наивного TDD</h1>

<ul>
<li>модульные тесты не гарантируют работоспособность системы</li>
<li><strong>начиная разработку с модульных тестов, легко загнать себя в тупик</strong></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Проблемы наивного TDD</h1>

<ul>
<li>модульные тесты не гарантируют работоспособность системы</li>
<li><strong>начиная разработку с модульных тестов, легко загнать себя в тупик</strong>

<ul>
<li>начинать разработку с высокоуровневых тестов и двигаться вниз</li>
</ul>
</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Проблемы наивного TDD</h1>

<ul>
<li>модульные тесты не гарантируют работоспособность системы</li>
<li>начиная разработку с модульных тестов, легко загнать себя в тупик</li>
<li><strong>высокоуровневые тесты нечитабельны целевой аудиторией</strong></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Behavior-driven development</h1>

<ul>
<li>Разработка начинается с высокоуровневого функционала</li>
<li>Сценарии пишутся наперед</li>
<li>В разработку сценариев вовлекаются максимум заинтересованных лиц</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Behavior Driven Development</h1>

<h2>План</h2>

<ul>
<li><span class="deemph">Что это</span></li>
<li><strong>Причем здесь огурцы</strong></li>
<li><span class="deemph">Пример</span></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Cucumber: the BDD framework</h1>

<p><a href="http://cukes.info">http://cukes.info</a></p>

<ul>
<li>Более-менее естественный язык описания сценариев</li>
<li>Ruby/Java/.NET-библиотеки для проработки сценариев</li>
<li>Скрипты для запуска</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Behavior Driven Development</h1>

<h2>План</h2>

<ul>
<li><span class="deemph">Что это</span></li>
<li><span class="deemph">Причем здесь огурцы</span></li>
<li><strong>Пример</strong></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>BDD на примере</h1>

<h2>twitter-клиент</h2>

  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Часть функционала twitter-клиента</h2>

<pre>
> Как пользователь, я должен уметь видеть свою ленту
</pre>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Описание функционала</h2>

<div class="highlight"><pre><span class="c"># features/user_timeline.feature</span>
<span class="nc">Функционал:</span><span class="nb"></span>
<span class="nb">    Как пользователь,</span>
<span class="nb">    Я должен уметь видеть свою ленту</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Описание функционала</h2>

<div class="highlight"><pre><span class="c"># features/user_timeline.feature</span>
<span class="nc">Функционал:</span><span class="nb"></span>
<span class="nb">    Как пользователь,</span>
<span class="nb">    Я должен уметь видеть свою ленту</span>

  <span class="nc">Сценарий:</span><span class="no"> только что зарегистрированный пользователь</span>
<span class="k">    Допустим </span>я зарегистрирован в twitter как <span class="s">&quot;biburat&quot;</span>
    <span class="k">Если </span>я запрашиваю ленту пользователя <span class="s">&quot;biburat&quot;</span>
    <span class="k">То </span>я должен увидеть пустую ленту
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="dark">
    <h1>Пример</h1>

<h2>Запуск</h2>

<pre style="background:black">
<tt>$ cucumber</tt><br>
<tt><span style='color: gray; background: black; '>#language:&nbsp;ru</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>Функционал:&nbsp;Как&nbsp;пользователь,</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Я&nbsp;должен&nbsp;уметь&nbsp;видеть&nbsp;свою&nbsp;ленту</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Сценарий:&nbsp;только&nbsp;что&nbsp;зарегистрированный&nbsp;пользователь&nbsp;#&nbsp;features/user_timeline.feature:6</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: #8b8b00; background: black; '>Допустим&nbsp;я&nbsp;зарегистрирован&nbsp;в&nbsp;twitter&nbsp;как&nbsp;&quot;biburat&quot;&nbsp;#&nbsp;features/user_timeline.feature:7</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: #8b8b00; background: black; '>Если&nbsp;я&nbsp;запрашиваю&nbsp;ленту&nbsp;пользователя&nbsp;&quot;biburat&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/user_timeline.feature:8</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: #8b8b00; background: black; '>То&nbsp;я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/user_timeline.feature:9</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>1&nbsp;scenario&nbsp;(</span><span style='color: #8b8b00; background: black; '>1&nbsp;undefined</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>3&nbsp;steps&nbsp;(</span><span style='color: #8b8b00; background: black; '>3&nbsp;undefined</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>0m0.003s</span><span style='color: black; background: black; '><br><br></span></tt>
</pre>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Реализация шагов на Ruby</h2>

<div class="highlight"><pre>  <span class="c1"># features/step_definitions/twitter_steps.rb</span>
  <span class="no">Given</span><span class="sr"> /я зарегистрирован в twitter как &quot;([^&quot;]*)&quot;/</span> <span class="k">do</span> <span class="o">|</span><span class="n">username</span><span class="o">|</span>
    <span class="c1"># todo</span>
  <span class="k">end</span>

  <span class="no">When</span><span class="sr"> /я запрашиваю ленту пользователя &quot;([^&quot;]*)&quot;/</span> <span class="k">do</span> <span class="o">|</span><span class="n">username</span><span class="o">|</span>
    <span class="n">get</span> <span class="s2">&quot;/</span><span class="si">#{</span><span class="n">username</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Реализация шагов на Java</h2>

<div class="highlight"><pre>  <span class="kd">class</span> <span class="nc">TwitterSteps</span> <span class="o">{</span>
      <span class="kd">private</span> <span class="n">WebClient</span> <span class="n">client</span><span class="o">;</span>
      <span class="kd">private</span> <span class="n">Response</span> <span class="n">lastResponse</span><span class="o">;</span>

      <span class="kd">public</span> <span class="nf">TwitterSteps</span><span class="o">(</span><span class="n">WebClient</span> <span class="n">client</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">;</span> <span class="o">}</span>

      <span class="nd">@When</span><span class="o">(</span><span class="s">&quot;я запрашиваю ленту пользователя \&quot;</span><span class="o">(.*)</span><span class="err">\</span><span class="s">&quot;&quot;</span><span class="o">)</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">whenIRequestStatusesForUser</span><span class="o">(</span><span class="n">String</span> <span class="n">username</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">lastResponse</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">username</span><span class="o">);</span>
      <span class="o">}</span>
  <span class="o">}</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Пробный запуск</h2>

<pre style="background: black;">
<tt><span style='color: gray; background: black; '>#language:&nbsp;ru</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>Функционал:&nbsp;Как&nbsp;пользователь,</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Я&nbsp;должен&nbsp;уметь&nbsp;видеть&nbsp;свою&nbsp;ленту</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Сценарий:&nbsp;только&nbsp;что&nbsp;зарегистрированный&nbsp;пользователь&nbsp;#&nbsp;features/user_timeline.feature:6</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkgreen; background: black; '>Допустим&nbsp;я&nbsp;зарегистрирован&nbsp;в&nbsp;twitter&nbsp;как&nbsp;&quot;</span><span style='color: green; background: black; '>biburat</span><span style='color: darkgreen; background: black; '>&quot;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:3</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkred; background: black; '>Если&nbsp;я&nbsp;запрашиваю&nbsp;ленту&nbsp;пользователя&nbsp;&quot;</span><span style='color: red; background: black; '>biburat</span><span style='color: darkred; background: black; '>&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:7</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection&nbsp;to&nbsp;localhost&nbsp;failed&nbsp;(IOError)</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./features/step_definitions/twitter_steps.rb:16:in&nbsp;`get'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./features/step_definitions/twitter_steps.rb:8:in&nbsp;`/я&nbsp;запрашиваю&nbsp;ленту&nbsp;пользователя&nbsp;&quot;([^&quot;]*)&quot;/'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;features/user_timeline.feature:8:in&nbsp;`Если&nbsp;я&nbsp;запрашиваю&nbsp;ленту&nbsp;пользователя&nbsp;&quot;biburat&quot;'</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkcyan; background: black; '>То&nbsp;я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:11</span><span style='color: black; background: black; '><br><br></span><span style='color: darkred; background: black; '>Failing&nbsp;Scenarios:</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>cucumber&nbsp;features/user_timeline.feature:6</span><span style='color: gray; background: black; '>&nbsp;#&nbsp;Scenario:&nbsp;только&nbsp;что&nbsp;зарегистрированный&nbsp;пользователь</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>1&nbsp;scenario&nbsp;(</span><span style='color: darkred; background: black; '>1&nbsp;failed</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>3&nbsp;steps&nbsp;(</span><span style='color: darkred; background: black; '>1&nbsp;failed</span><span style='color: gray; background: black; '>,&nbsp;</span><span style='color: darkcyan; background: black; '>1&nbsp;skipped</span><span style='color: gray; background: black; '>,&nbsp;</span><span style='color: darkgreen; background: black; '>1&nbsp;passed</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>0m0.002s</span><span style='color: black; background: black; '><br></span></tt>
</pre>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Старт приложения</h2>

<div class="highlight"><pre>  <span class="c1"># features/support/env.rb</span>
  <span class="no">Server</span><span class="o">.</span><span class="n">start</span>
  <span class="nb">at_exit</span> <span class="k">do</span>
    <span class="no">Server</span><span class="o">.</span><span class="n">stop</span>
  <span class="k">end</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Реализация обработчика для "/username"</h2>

<div class="highlight"><pre>  <span class="c1"># app/controllers/status_controller.rb</span>
  <span class="k">class</span> <span class="nc">StatusController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
    <span class="k">def</span> <span class="nf">show</span>
      <span class="n">render</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="c1"># routes.rb</span>
  <span class="n">map</span> <span class="s2">&quot;/:username&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;status#show&quot;</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Запуск тестов</h2>

<pre style="background: black">
<tt><span style='color: gray; background: black; '>#language:&nbsp;ru</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>Функционал:&nbsp;Как&nbsp;пользователь,</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Я&nbsp;должен&nbsp;уметь&nbsp;видеть&nbsp;свою&nbsp;ленту</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Сценарий:&nbsp;только&nbsp;что&nbsp;зарегистрированный&nbsp;пользователь&nbsp;#&nbsp;features/user_timeline.feature:6</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkgreen; background: black; '>Допустим&nbsp;я&nbsp;зарегистрирован&nbsp;в&nbsp;twitter&nbsp;как&nbsp;&quot;</span><span style='color: green; background: black; '>biburat</span><span style='color: darkgreen; background: black; '>&quot;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:4</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkgreen; background: black; '>Если&nbsp;я&nbsp;запрашиваю&nbsp;ленту&nbsp;пользователя&nbsp;&quot;</span><span style='color: green; background: black; '>biburat</span><span style='color: darkgreen; background: black; '>&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:8</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: #8b8b00; background: black; '>То&nbsp;я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/user_timeline.feature:9</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>1&nbsp;scenario&nbsp;(</span><span style='color: #8b8b00; background: black; '>1&nbsp;undefined</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>3&nbsp;steps&nbsp;(</span><span style='color: #8b8b00; background: black; '>1&nbsp;undefined</span><span style='color: gray; background: black; '>,&nbsp;</span><span style='color: darkgreen; background: black; '>2&nbsp;passed</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>0m0.003s</span><span style='color: black; background: black; '><br><br></span><span style='color: #8b8b00; background: black; '>You&nbsp;can&nbsp;implement&nbsp;step&nbsp;definitions&nbsp;for&nbsp;undefined&nbsp;steps&nbsp;with&nbsp;these&nbsp;snippets:</span><span style='color: black; background: black; '><br><br></span><span style='color: #8b8b00; background: black; '>То&nbsp;/^я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту$/&nbsp;do</span><span style='color: black; background: black; '><br></span><span style='color: #8b8b00; background: black; '>&nbsp;&nbsp;pending&nbsp;#&nbsp;express&nbsp;the&nbsp;regexp&nbsp;above&nbsp;with&nbsp;the&nbsp;code&nbsp;you&nbsp;wish&nbsp;you&nbsp;had</span><span style='color: black; background: black; '><br></span><span style='color: #8b8b00; background: black; '>end</span><span style='color: black; background: black; '><br><br></span></tt>
</pre>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Реализация шагов</h2>

<div class="highlight"><pre>  <span class="no">Then</span><span class="sr"> /я должен увидеть пустую ленту/</span> <span class="k">do</span>
    <span class="n">assert_xpath</span> <span class="s2">&quot;not(//div[id=&#39;status&#39;])&quot;</span>
  <span class="k">end</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Запуск тестов</h2>

<pre style="background: black">

<tt></span><span style='color: gray; background: black; '>bash-3.2$&nbsp;cucumber</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>#language:&nbsp;ru</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>Функционал:&nbsp;Как&nbsp;пользователь,</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Я&nbsp;должен&nbsp;уметь&nbsp;видеть&nbsp;свою&nbsp;ленту</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;Сценарий:&nbsp;только&nbsp;что&nbsp;зарегистрированный&nbsp;пользователь&nbsp;#&nbsp;features/user_timeline.feature:6</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkgreen; background: black; '>Допустим&nbsp;я&nbsp;зарегистрирован&nbsp;в&nbsp;twitter&nbsp;как&nbsp;&quot;</span><span style='color: green; background: black; '>biburat</span><span style='color: darkgreen; background: black; '>&quot;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:4</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkgreen; background: black; '>Если&nbsp;я&nbsp;запрашиваю&nbsp;ленту&nbsp;пользователя&nbsp;&quot;</span><span style='color: green; background: black; '>biburat</span><span style='color: darkgreen; background: black; '>&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:8</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color: darkred; background: black; '>То&nbsp;я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;features/step_definitions/twitter_steps.rb:12</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected&nbsp;response&nbsp;text&nbsp;to&nbsp;match&nbsp;&quot;//div[@id='timeline'&nbsp;and&nbsp;not(.//div[@id='status'])&quot;,&nbsp;actual:&nbsp;&quot;&quot;.</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;false&gt;&nbsp;is&nbsp;not&nbsp;true.&nbsp;(Test::Unit::AssertionFailedError)</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/test/unit/assertions.rb:48:in&nbsp;`assert_block'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/test/unit/assertions.rb:500:in&nbsp;`_wrap_assertion'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/test/unit/assertions.rb:46:in&nbsp;`assert_block'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/test/unit/assertions.rb:63:in&nbsp;`assert'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/test/unit/assertions.rb:495:in&nbsp;`_wrap_assertion'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/test/unit/assertions.rb:61:in&nbsp;`assert'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./features/step_definitions/twitter_steps.rb:25:in&nbsp;`assert_xpath'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./features/step_definitions/twitter_steps.rb:13:in&nbsp;`/я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту/'</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;features/user_timeline.feature:9:in&nbsp;`То&nbsp;я&nbsp;должен&nbsp;увидеть&nbsp;пустую&nbsp;ленту'</span><span style='color: black; background: black; '><br><br></span><span style='color: darkred; background: black; '>Failing&nbsp;Scenarios:</span><span style='color: black; background: black; '><br></span><span style='color: darkred; background: black; '>cucumber&nbsp;features/user_timeline.feature:6</span><span style='color: gray; background: black; '>&nbsp;#&nbsp;Scenario:&nbsp;только&nbsp;что&nbsp;зарегистрированный&nbsp;пользователь</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>1&nbsp;scenario&nbsp;(</span><span style='color: darkred; background: black; '>1&nbsp;failed</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>3&nbsp;steps&nbsp;(</span><span style='color: darkred; background: black; '>1&nbsp;failed</span><span style='color: gray; background: black; '>,&nbsp;</span><span style='color: darkgreen; background: black; '>2&nbsp;passed</span><span style='color: gray; background: black; '>)</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>0m0.003s</span><span style='color: black; background: black; '><br></span><span style='color: gray; background: black; '>bash-3.2$&nbsp;exit</span><span style='color: black; background: black; '><br><br></span><span style='color: gray; background: black; '>Script&nbsp;done&nbsp;on&nbsp;Wed&nbsp;Mar&nbsp;16&nbsp;15:13:09&nbsp;2011</span><span style='color: black; background: black; '><br></span></tt>
</pre>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>Реализация обработчика для "/username"</h2>

<div class="highlight"><pre>  <span class="c1"># app/controllers/status_controller.rb</span>
  <span class="k">class</span> <span class="nc">StatusController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
    <span class="k">def</span> <span class="nf">show</span>
      <span class="vi">@statuses</span> <span class="o">=</span> <span class="o">[]</span>
      <span class="c1"># render a proper template</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="c1"># routes.rb</span>
  <span class="n">map</span> <span class="s2">&quot;/:username&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;status#show&quot;</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<h2>следующий сценарий</h2>

<div class="highlight"><pre>  <span class="k">Допустим </span>я зарегистрирован в twitter как пользователь <span class="s">&quot;biburat&quot;</span>
  <span class="k">И </span>я добавил статус <span class="s">&quot;zomg добавил твиттер!&quot;</span>
  <span class="k">Если </span>я запрашиваю статусы пользователя <span class="s">&quot;biburat&quot;</span>
  <span class="k">То </span>я должен увидеть такие статусы:
  | статус               |
  | zomg добавил твиттер |
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section class="bulleted">
    <h1>Сложности</h1>

<ul>
<li>либо работать с реальным твиттером

<ul>
<li>автоматически либо вручную</li>
</ul>
</li>
<li>либо работать с заглушкой

<ul>
<li>нужны тесты на заглушку!</li>
<li>необязательно cucumber, поскольку интересуют почти только разработчиков.</li>
</ul>
</li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Заглушки</h1>

<div class="highlight"><pre>  <span class="c1"># features/support/env.rb</span>
  <span class="no">Server</span><span class="o">.</span><span class="n">start</span>
  <span class="no">Stub</span><span class="o">.</span><span class="n">start</span>
  <span class="nb">at_exit</span> <span class="k">do</span>
    <span class="no">Stub</span><span class="o">.</span><span class="n">stop</span>
    <span class="no">Server</span><span class="o">.</span><span class="n">stop</span>
  <span class="k">end</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<div class="highlight"><pre>  <span class="c1"># features/step_definitions/twitter_steps.rb</span>
  <span class="no">Given</span><span class="sr"> /я зарегистрирован в twitter как &quot;([^&quot;]*)&quot;/</span> <span class="k">do</span> <span class="o">|</span><span class="n">username</span><span class="o">|</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">Stub</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="no">Given</span><span class="sr"> /я добавил статус &quot;([^&quot;]*)&quot;/</span> <span class="k">do</span> <span class="o">|</span><span class="n">text</span><span class="o">|</span>
    <span class="vi">@user</span><span class="o">.</span><span class="n">statuses</span> <span class="o">&lt;&lt;</span> <span class="n">text</span>
  <span class="k">end</span>

  <span class="no">Before</span> <span class="k">do</span>
    <span class="no">Stub</span><span class="o">.</span><span class="n">reset!</span>
  <span class="k">end</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Пример</h1>

<div class="highlight"><pre>  <span class="c1"># features/support/stub.rb</span>
  <span class="k">class</span> <span class="nc">Stub</span>
    <span class="vi">@users</span> <span class="o">=</span> <span class="o">[]</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">start</span>
      <span class="vi">@server</span> <span class="o">=</span> <span class="no">Server</span><span class="o">.</span><span class="n">start</span>
    <span class="k">end</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">stop</span>
      <span class="vi">@server</span><span class="o">.</span><span class="n">stop</span>
    <span class="k">end</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
      <span class="vi">@users</span> <span class="o">&lt;&lt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="k">end</span>
    <span class="k">class</span> <span class="nc">Server</span><span class="p">;</span> <span class="k">end</span>
    <span class="k">class</span> <span class="nc">User</span><span class="p">;</span> <span class="k">end</span>
  <span class="k">end</span>
</pre>
</div>




  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
      <div class="slide">
  <section>
    <h1>Вопросы?</h1>

<h2>Контакты</h2>

<ul>
<li><a href="mailto:alex.grigorovich@gmail.com">alex.grigorovich@gmail.com</a></li>
<li><a href="http://twitter.com/biburat">@biburat</a></li>
</ul>


<h2>Слайды</h2>

<ul>
<li><a href="http://grig.github.com/codefest-bdd-talk/">Эта презентация</a></li>
<li><a href="http://github.com/grig/codefest-bdd-talk/">Исходники</a></li>
</ul>


  </section>
  <div class="attribution hidden">
    <a href="">
      
    </a>
  </div>
</div>

    
  </div>
</div>

<!--
  Original HTML5 Rocks JavaScript extracted for readability
-->
<script src="js/rocks.js" type="text/javascript"></script>

<!--[if lt IE 9]>
<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
<script>CFInstall.check({ mode: "overlay" });</script>
<![endif]-->

<!--
  Keydown puts your custom JS here
-->

<script src="js/bdd-talk.js" type="text/javascript"></script>


</body>
</html>